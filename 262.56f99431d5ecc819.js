"use strict";(self.webpackChunkweb_cdttu_github_io=self.webpackChunkweb_cdttu_github_io||[]).push([[262],{9262:(S,f,c)=>{c.r(f),c.d(f,{NotificationsModule:()=>J});var l=c(4755),r=c(2753),u=c(5003),t=c(9523);function g(o,e){if(1&o&&(t.TgZ(0,"div",7),t._UZ(1,"img",8),t.TgZ(2,"div",9),t._uU(3),t.qZA()()),2&o){const i=e.$implicit;t.Q6J("routerLink","/thong-bao/"+(null==i?null:i.path)),t.xp6(3),t.hij(" ",null==i?null:i.label," ")}}let b=(()=>{class o{constructor(){this.menu=u.s.find(i=>"/thong-bao"==i.path)?.children}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notifications"]],decls:10,vars:1,consts:[[1,"container"],[1,"flex","flex-wrap"],[1,"w-full","lg:w-80","h-fit","static","lg:sticky","top-[42px]"],[1,"w-full","h-fit","bg-[#f3f4e3]","p-5","rounded-b"],[1,"text-xl","text-primary","text-center","font-semibold"],["class","w-full h-auto relative cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"w-full","flex-1","px-0","lg:px-5"],[1,"w-full","h-auto","relative","cursor-pointer",3,"routerLink"],["src","assets/images/red-frame.svg","alt","red-frame"],[1,"absolute","top-0","right-0","bottom-0","left-0","flex","justify-center","items-center","text-[#c90b0a]","font-semibold"]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._uU(6," TH\xd4NG B\xc1O "),t.qZA(),t.YNc(7,g,4,2,"div",5),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"router-outlet"),t.qZA()()()()),2&i&&(t.xp6(7),t.Q6J("ngForOf",n.menu))},dependencies:[l.sg,r.lC,r.rH]}),o})();var p=c(6607),m=c(3625);function v(o,e){1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"div",6),t.Hsn(1),t.qZA())}function N(o,e){1&o&&(t.O4$(),t.kcU(),t._UZ(0,"div",7))}const x=["*"];let _=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notification-list-item"]],inputs:{data:"data"},ngContentSelectors:x,decls:8,vars:6,consts:[[1,"flex","group","cursor-pointer","py-4","items-center","border-dotted","border-b"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","text-primary","transition","group-hover:translate-x-1"],["stroke-linecap","round","stroke-linejoin","round","d","M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z"],["class","flex-1 ml-3 truncate transition group-hover:text-primary",4,"ngIf"],["class","flex-1 ml-3 truncate transition group-hover:text-primary bg-[#e8eaed] h-3 w-full rounded-full animate-pulse",4,"ngIf"],[1,"transition","group-hover:text-primary"],[1,"flex-1","ml-3","truncate","transition","group-hover:text-primary"],[1,"flex-1","ml-3","truncate","transition","group-hover:text-primary","bg-[#e8eaed]","h-3","w-full","rounded-full","animate-pulse"]],template:function(i,n){1&i&&(t.F$t(),t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"path",2),t.qZA(),t.YNc(3,v,2,0,"div",3),t.YNc(4,N,1,0,"div",4),t.kcU(),t.TgZ(5,"div",5),t._uU(6),t.ALo(7,"date"),t.qZA()()),2&i&&(t.xp6(3),t.Q6J("ngIf",null==n.data?null:n.data.title),t.xp6(1),t.Q6J("ngIf",!(null!=n.data&&n.data.title)),t.xp6(2),t.Oqu(t.xi3(7,3,null==n.data?null:n.data.date,"dd/MM/YY")))},dependencies:[l.O5,l.uU]}),o})();function C(o,e){if(1&o&&(t.TgZ(0,"app-notification-list-item",5),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.Q6J("data",i)("routerLink",null==i?null:i.path),t.xp6(1),t.Oqu(null==i?null:i.title)}}function y(o,e){if(1&o&&(t.ynx(0),t.YNc(1,C,2,3,"app-notification-list-item",4),t.BQk()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.notificationList)}}function L(o,e){1&o&&t._UZ(0,"app-notification-list-item")}function w(o,e){if(1&o&&(t.ynx(0),t.YNc(1,L,1,0,"app-notification-list-item",6),t.BQk()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.notificationList)}}let h=(()=>{class o{constructor(i,n,s){this.notificationService=i,this.route=n,this.cd=s,this.notificationList=[]}ngOnInit(){this.getNotificationList(),this.route.params.subscribe(i=>{i.type?(this.type=i.type,this.title=u.s.find(n=>"/thong-bao"==n.path)?.children.find(n=>n.path==this.type).label,this.breadcrumb=this.title?[{path:"thong-bao",label:"TH\xd4NG B\xc1O"},{path:"thong-bao/"+this.type,label:this.title}]:[{path:"thong-bao",label:"TH\xd4NG B\xc1O"}],this.getNotificationList()):(this.breadcrumb=[{path:"thong-bao",label:"TH\xd4NG B\xc1O"}],this.getNotificationList())})}ngAfterViewChecked(){this.cd.detectChanges(),setTimeout(()=>{this.notificationService.isActiveNotification&&!this.notificationList[0]?.title&&this.getNotificationList()})}getNotificationList(){const i=Array.from(Array(14),(n,s)=>null);this.notificationList=i.splice(i?.length>7?7:i.length/2,7);try{if(this.type){const n=`notification${this.type.split("-").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).toString("").replaceAll(",","")}`,s=this.notificationService.notificationData[n]?.sort((a,d)=>a.data.date>d.data.date?-1:1).map(a=>({id:a?.id,title:`${a?.id} | ${a?.title}`,date:a?.date,path:`/thong-bao/${this.type}/${a?.id}`,image:a?.thumbnail}));s?.length>0&&(this.notificationList=s)}else this.notificationService.getAllNotification().subscribe(n=>{if(200===n.code){const s=n.data?.sort((a,d)=>a.data.date>d.data.date?-1:1).map(a=>({id:a?.data?.id,title:`${a?.data?.id} | ${a?.data?.title}`,date:a?.data?.date,path:`/thong-bao/${a?.slug}/${a?.data?.id}`,image:a?.data?.thumbnail}));this.notificationList=s}})}catch(n){console.log(n)}}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(p.g),t.Y36(r.gz),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notification-list"]],decls:6,vars:5,consts:[[3,"breadcrumb","align"],[1,"p-3"],[1,"text-2xl","font-semibold"],[4,"ngIf"],[3,"data","routerLink",4,"ngFor","ngForOf"],[3,"data","routerLink"],[4,"ngFor","ngForOf"]],template:function(i,n){1&i&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.YNc(4,y,2,1,"ng-container",3),t.YNc(5,w,2,1,"ng-container",3),t.qZA()),2&i&&(t.Q6J("breadcrumb",n.breadcrumb)("align","end"),t.xp6(3),t.hij("TH\xd4NG B\xc1O ",n.title,""),t.xp6(1),t.Q6J("ngIf",null==n.notificationList[0]?null:n.notificationList[0].title),t.xp6(1),t.Q6J("ngIf",!(null!=n.notificationList[0]&&n.notificationList[0].title)))},dependencies:[l.sg,l.O5,r.rH,m.L,_]}),o})();var T=c(6550);let Z=(()=>{class o{constructor(i){this.sanitizer=i}transform(i){return this.sanitizer.bypassSecurityTrustResourceUrl(i)}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(T.H7,16))},o.\u0275pipe=t.Yjl({name:"safe",type:o,pure:!0}),o})();const D=["googleDocContent"];function A(o,e){1&o&&(t.TgZ(0,"div")(1,"div",2),t._UZ(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10)(10,"div",3)(11,"div",4)(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",3)(19,"div",4)(20,"div",5)(21,"div",6)(22,"div",7)(23,"div",8)(24,"div",9)(25,"div",10),t.qZA()())}function O(o,e){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"iframe",11,12),t.ALo(3,"safe"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("src",t.lcZ(3,1,"https://docs.google.com/document/d/e/"+i.notificationDetails.googleDocPublishId+"/pub?embedded=true"),t.uOi)}}function I(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,O,4,3,"div",1),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.notificationDetails||!i.notificationDetails.googleDocPublishId))}}let U=(()=>{class o{constructor(i,n,s){this.notificationService=i,this.route=n,this.cd=s,this.notificationDetails=new Y,this.notificationRoute={},this.loadingNotification=!1,this.googleDocContent=t.SBq,this.loadingNotification=!0}ngOnInit(){this.loadingNotification=!0,this.route.params.subscribe(i=>{i.id&&(this.loadingNotification=!0,this.id=i.id,this.getNotificationDetails())})}ngAfterViewChecked(){this.cd.detectChanges(),setTimeout(()=>{this.notificationService.isActiveNotification&&!this.notificationDetails?.id&&(this.route.params.subscribe(i=>{i.id&&(this.id=i.id)}),this.getNotificationDetails())})}getNotificationDetails(){try{this.notificationService.getNotificationById(this.id).subscribe(i=>{200===i.code&&(this.notificationDetails=i.data,this.breadcrumb=[{path:"/thong-bao",label:"TH\xd4NG B\xc1O"},{path:location.pathname,label:this.notificationDetails?.title}],this.loadingNotification=!1)})}catch(i){console.log(i)}}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(p.g),t.Y36(r.gz),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notification-details"]],viewQuery:function(i,n){if(1&i&&t.Gf(D,5),2&i){let s;t.iGM(s=t.CRH())&&(n.googleDocContent=s.first)}},decls:3,vars:4,consts:[[3,"breadcrumb","align"],[4,"ngIf"],[1,"p-5"],[1,"bg-[#e8eaed]","h-3","w-1/2","mb-3","rounded-full","animate-pulse"],[1,"bg-[#e8eaed]","h-3","w-1/3","mb-3","rounded-full","animate-pulse"],[1,"bg-[#e8eaed]","h-3","w-2/3","mb-3","rounded-full","animate-pulse"],[1,"bg-[#e8eaed]","h-3","w-3/5","mb-3","rounded-full","animate-pulse"],[1,"bg-[#e8eaed]","h-3","w-4/5","mb-3","rounded-full","animate-pulse"],[1,"bg-[#e8eaed]","h-3","w-1/6","mb-3","rounded-full","animate-pulse"],[1,"bg-[#e8eaed]","h-3","w-1/4","mb-3","rounded-full","animate-pulse"],[1,"bg-[#e8eaed]","h-3","w-5/6","mb-3","rounded-full","animate-pulse"],["frameborder","0","webkitallowfullscreen","","mozallowfullscreen","","allowfullscreen","",1,"w-full","h-screen",3,"src"],["googleDocContent",""]],template:function(i,n){1&i&&(t._UZ(0,"app-breadcrumb",0),t.YNc(1,A,26,0,"div",1),t.YNc(2,I,2,1,"div",1)),2&i&&(t.Q6J("breadcrumb",n.breadcrumb)("align","end"),t.xp6(1),t.Q6J("ngIf",n.loadingNotification),t.xp6(1),t.Q6J("ngIf",!n.loadingNotification))},dependencies:[l.O5,m.L,Z]}),o})();class Y{}const Q=[{path:"",component:b,children:[{path:"",component:h},{path:":type",component:h},{path:":type/:id",component:U}]}];let B=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[r.Bz.forChild(Q),r.Bz]}),o})();var F=c(3609);let J=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,B,F.w]}),o})()}}]);